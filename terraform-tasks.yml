parameters: 
  rgName: "Default Resource Group"
  containerName: "Default Container"
  saName: "Default Storage account"
  key: "Default Key"
  subscriptionId: "Default Subscription ID"
  clientId: "Default App ID"
  tenantId: "Default Tenant ID"
  clientSecret: "Default App password"
  terraformPlan: "Decides the 2 jobs"
  location: "Defines the location of the vm"
  envTag: "Defines the machine environment type"
  password: "You knowwwww"
  owner: "The name of the Owner"  
  sourceip: "you knowwwwww"
steps:
  - bash: |
      az login --service-principal -u ${{ parameters.clientId }} -p ${{ parameters.clientSecret }} --tenant ${{ parameters.tenantId }}
      terraform init -reconfigure -backend-config="container_name=${{ parameters.containerName }}" \
      -backend-config="storage_account_name=${{ parameters.saName }}" \
      -backend-config="subscription_id=${{ parameters.subscriptionId }}" \
      -backend-config="tenant_id=${{ parameters.tenantId }}" \
      -backend-config="client_id=${{ parameters.clientId }}" \
      -backend-config="client_secret=${{ parameters.clientSecret }}" \
      -backend-config="resource_group_name=${{ parameters.rgName }}" \
      -backend-config="key=${{ parameters.key }}" \
      -input=false
    displayName: Terraform Init
